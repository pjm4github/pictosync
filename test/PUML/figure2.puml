@startuml FIG2_Ephemeral_Fusion_Lifecycle
!theme plain
skinparam backgroundColor #FEFEFE
skinparam defaultFontName Arial
skinparam defaultFontSize 11
skinparam activity {
  RoundCorner 12
  BackgroundColor #F8F8FF
  BorderColor #666666
}

title **FIG. 2 â€” Ephemeral Fusion Lifecycle**

start

:Anomaly detected on\nOT process bus stream;
note right
  ONNX classifier identifies:
  - Anomaly type & subtype
  - Severity level
  - Affected asset fingerprint
end note

:Scan tag store for\nprior relevant results;
note right
  Multi-signal relevance scoring:
  - Same asset (0.40)
  - Same feeder (0.15)
  - Same asset class (0.10)
  - Same anomaly type (0.15)
  - Temporal decay applied
end note

:Route to qualified operator\nbased on skill profile match;

:Operator authenticated\n(MFA + device cert + role claim);

partition "**Ephemeral Workspace**" #E8F0FE {

  #CCE5FF:Create encrypted tmpfs workspace\n(AES-256, session-unique key,\nno swap enabled);

  partition "**Skill Loading**" {
    :Pull skill package\nfrom repository;
    :Validate cryptographic\nsignature;
    :Cache skill in\nephemeral store;
  }

  partition "**Connector Hydration**" {
    :Instantiate connectors\nfrom skill definition;
    :Obtain short-lived tokens\nfrom credential vault;
    :Execute connectors in\nOCI containers (resource-capped);
    :IT enrichment data loaded\ninto encrypted tmpfs;
    note right
      Data sources:
      - AMI meter readings
      - Work order details
      - Customer records
      - Network topology
    end note
  }

  partition "**Fusion Execution**" {
    :Execute skill fusion logic\ncorrelating OT + IT data;
    :Compute confidence metrics;
    :Produce structured\nfusion result;
  }

  partition "**Answer Restraint**" {
    #CCFFCC:Extract minimum viable insight\n(classification, confidence,\nrecommended action);
    note right #FFEEEE
      **EXCLUDED from output:**
      - Raw meter readings
      - Customer PII
      - Work order details
      - Network topology data
    end note
  }
}

partition "**Cryptographic Erasure**" #FFF0F0 {
  #FFCCCC:Zero all RAM pages\nin tmpfs workspace;
  #FFCCCC:Destroy AES-256\nencryption key;
  #FFCCCC:Unmount tmpfs\nfilesystem;
  #FFCCCC:Generate signed\nerasure attestation;
  :Log attestation to\nWORM audit store;
}

partition "**Persistence**" #F0FFF0 {
  #CCFFCC:Persist tagged result\n(insight + attestation +\nsemantic tags + transcript);
  :Link to related\nprior tagged results;
  :Update skill quality\nmetrics in repository;
  :Update operator\nskill profile score;
}

stop

@enduml